- отсуствие алиасных записей

- ip добавляются из пула адресов, в которых могут быть зарезервированные/статические/динамические/белые

- данамические ip освобождаются через время после отключения, чтобы все коллекторы успели дособрать трафик и привязать клиенту

- поле пакет удалено, введено понятие "услуга":
    - длительность от секунды до года
    - старт в любое время
    - несколько услуг на одном клиенте
    - при удалении услуги - пересчет снятия пропорционально дням ее использования


UPDATE auth_now SET start=(UNIX_TIMESTAMP()-48*3600*RAND()), last=(UNIX_TIMESTAMP()-60*RAND());


http://demo.nodeny.com.ua/cgi-bin/new.pl демка нового NoDeny, который пока называется nodeny+. Логин: admin, пароль: 33.

Это только веб-интерфейс. Нужны ваши комментарии и советы. Некоторые админские функции заблокированы, чтобы хулиганы не покалечили биллинг.

Представлены только основные фичи (после тестов и согласования концепции пойдут следующие). На текущем биллинге полноценно функционирует моя сеть. Я оцениваю законченность веб-интерфейса по основным фичам процентов на 80. Есть некоторые, которые совсем не работают или показывают не то. Я их описывать не буду, если наткнетесь - не думайте, что баг (хотя может быть и баг).

Некоторые комментарии.

При создании клиента предлагает выбрать всего одно поле: группу, при этом предлагается та группа, в которой был создан последний клиент текущего админа. Новая запись в состоянии "на подключении". Это означает, что при заходе в клиентскую статистику будет предложено ввести фио и адрес (список полей задается в настройках). День подключения уже не имеет значения - услуги привязыватся к моменту их активации.

В шапке админки поле глобального поиска - в момент ввода символов происходит параллельный поиск. Клавиша "вниз" - изменяет тип поиска (фрагмент/полное совпадение/начинается с/..). Клавиша F2 конвертирует символы когда вы ошиблись расскладкой, например, "Cnfc" сконвертися в "Стас".

В разделе "клиенты" можно искать по нескольким фильтрам одновременно, добавляя их кнопкой "+фильтр". Убрать фильтр из текущего поиска можно щелчком по имени фильтра. Сортировка работает практически по всем полям. Если вы хотите сортировать по полю, которое не отображается в заголовке таблицы - выберите поиск по этому полю "начинается с <пустая строка>" - это поле появится в таблице и щечком по нему можно менять направление сортировки. Также слева кнопка "стелочка влево-вправо" показывает меню какие столбцы отображать в результирующей таблице. Значения запоминаются в куки.

Также в куки запоминается режим отображения трафика (мб/кб/байт) - он глобальный. Кроме того, на странице "статистика" режим трафика расширен скоростями (байт/сек и т.д). В настройках задаются какие режиме показывать, если вам чего-то не хватает либо, наоборот, много букв.

В таблице поиска кнопка info показывает данные клиента, правая кнопка показывает, что можно сделать с клиентов: пополнить счет/временный платеж и т.д. При этом кнопка info становится красной - когда модальное окно пополнения счета будет закрыто - будет видно на каком клиенте мы остановились, выбираем следующего и т.д. Это выполнение просьбы о пополнении счета целой группе клиентов.

Liqpay Мерчант реальный :), но с нулевым балансом. Т.е если вы пополните счет через клиентский интерфейс, то потом сможете пополнить себе или кому-нить мобильник, если кто-то другой не успеет это раньше вас.

В демке вы суперадмин - включите debug режим и увидите все подробности, включая ajax-запросы.


Хотелось бы показать серверную часть, модульность и все такое, но как... тока выпуском на тестирование.

